<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>티켓팅 시스템</title>
	<th:block th:replace="~{common/common}"></th:block>

	<link rel="stylesheet" href="/css/performance/genre.css">

</head>

<body>
	<th:block th:replace="~{common/header}"></th:block>

	<div class="parent">
		<h2 th:text="${genre}">장르</h2>
	</div>
	
	<!-- 검색 영역을 별도의 클래스명으로 변경 -->
	<div class="performance-search-container">
		<div class="performance-search-box">
			<input type="text" class="performance-search-input" id="performanceSearchInput"
				placeholder="공연명 또는 공연장을 입력하세요">
			<select class="performance-search-type" id="performanceSearchType">
				<option value="all">전체</option>
				<option value="title">공연명</option>
				<option value="venue">공연장</option>
			</select>
			<button class="performance-search-button" id="performanceSearchButton">
				<i class="fas fa-search"></i>
				검색
			</button>
		</div>
	</div>
	
	<!-- 탭 버튼 추가 -->
	<div class="tab-container">
	    <div class="tab-buttons">
	        <button class="tab-button active" data-filter="all">전체</button>
	        <button class="tab-button" data-filter="rating">평점순</button>
	        <button class="tab-button" data-filter="upcoming">공연예정</button>
	        <button class="tab-button" data-filter="ongoing">공연중</button>
	    </div>
	</div>

	<div class="performance-container">
		<div class="performance-grid" id="performanceGrid">
		</div>
		<div class="loading-spinner" style="display: none;">
			Loading...
		</div>
	</div>
	
	<button id="scrollToTop" class="scroll-to-top" aria-label="페이지 최상단으로 이동">
	    <span>↑</span>
	</button>

	<th:block th:replace="~{common/footer}"></th:block>

	<script th:inline="javascript">
		const genre = /*[[${genre}]]*/ null;
		const imageCache = new Map();
		
	</script>
	
	<script src="/js/performance/genre.js"></script>
</body>

</html>