<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>공연 예매 사이트</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <link rel="stylesheet" href="/css/main-style.css">

  <link rel="stylesheet" href="/css/myPage/ticketDetail.css">

  <th:block th:replace="~{common/common}"></th:block>
</head>

<body>
  <th:block th:replace="~{common/header}"></th:block>
  <!-- HTML 수정 부분 -->

  <div class="container">
    <div class="ticket-detail-container">
      <!-- Header -->
      <div class="ticket-header">
        <h1 class="text-3xl font-bold text-gray-900">예매 내역 확인</h1>
        <p class="mt-2 text-sm text-gray-600" id="bookingNumber">예매번호: 불러오는 중...</p>
      </div>

      <!-- 공연 정보 표시 -->
      <div class="status-banner" id="statusBanner">
        로딩 중...
      </div>

      <div class="event-content-grid">
        <!-- 공연 포스터 이미지 추가 -->
        <div class="poster-container">
          <img id="posterImage" src="#" alt="공연 포스터" class="poster-image">
        </div>

        <!-- 공연 상세 데이터가 표시될 영역 -->
        <div class="event-details">
          <div>
            <p class="text-sm text-gray-500">공연명</p>
            <p class="font-medium" id="eventName">-</p>
          </div>
          <div>
            <p class="text-sm text-gray-500">공연 일시</p>
            <p class="font-medium" id="eventDateTime">-</p>
          </div>
          <div>
            <p class="text-sm text-gray-500">공연장</p>
            <p class="font-medium" id="venue">-</p>
          </div>
          <div>
            <p class="text-sm text-gray-500">좌석 정보</p>
            <p class="font-medium" id="seatInfo">-</p>
          </div>
          <div>
            <p class="text-sm text-gray-500">티켓 금액</p>
            <p class="font-medium" id="ticketPrice">-</p>
          </div>
        </div>
      </div>
      
      <!-- QR Code -->
      <div class="border-t border-gray-200 pt-6">
        <div class="qr-placeholder">
          <span>QR Code</span>
        </div>
        <p class="text-center text-sm text-gray-500 mt-2">
          입장 시 QR코드를 제시해 주세요.
        </p>
      </div>

      <!-- Footer -->
      <div class="button-group">
        <button class="back-btn" onclick="window.history.back()">돌아가기</button>
        <button class="cancel-btn" onclick="if(confirm('예매를 취소하시겠습니까?')) cancelBooking();">
          예매 취소
        </button>
      </div>

      <!-- Additional Info -->
      <div class="additional-info">
        <h3 class="text-lg font-medium text-gray-900 mb-4">예매 안내</h3>
        <ul class="space-y-2 text-sm text-gray-600">
          <li class="flex items-center">
            <span class="mr-2">•</span> 예매 취소는 공연 1일 전까지 가능합니다.
          </li>
          <li class="flex items-center">
            <span class="mr-2">•</span> 현장에서 실물 티켓으로 교환하실 수 있습니다.
          </li>
          <li class="flex items-center">
            <span class="mr-2">•</span> 공연 당일 교통 혼잡이 예상되오니 여유 있게 도착해주시기 바랍니다.
          </li>
        </ul>
      </div>
    </div>
  </div>



  <!-- 로딩 스피너 -->
  <div id="loadingSpinner" style="display: none;">
    <div class="spinner"></div> <!-- Spinner 스타일 정의 필요 -->
  </div>

  <script src="/js/myPage/ticketDetail.js"></script>

  <th:block th:replace="~{common/footer}"></th:block>
</body>

</html>